!function(e){function n(n){for(var o,c,a=n[0],s=n[1],u=n[2],p=0,d=[];p<a.length;p++)c=a[p],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&d.push(r[c][0]),r[c]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(l&&l(n);d.length;)d.shift()();return i.push.apply(i,u||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],o=!0,a=1;a<t.length;a++){var s=t[a];0!==r[s]&&(o=!1)}o&&(i.splice(n--,1),e=c(c.s=t[0]))}return e}var o={},r={0:0},i=[];function c(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.m=e,c.c=o,c.d=function(e,n,t){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,n){if(1&n&&(e=c(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)c.d(t,o,function(n){return e[n]}.bind(null,o));return t},c.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="";var a=window.webpackJsonp=window.webpackJsonp||[],s=a.push.bind(a);a.push=n,a=a.slice();for(var u=0;u<a.length;u++)n(a[u]);var l=s;i.push([96,1]),t()}({105:function(e,n){},107:function(e,n){},113:function(e,n){},115:function(e,n){},127:function(e,n){},129:function(e,n){},156:function(e,n){},158:function(e,n){},159:function(e,n){},165:function(e,n){},167:function(e,n){},185:function(e,n){},188:function(e,n){},204:function(e,n){},207:function(e,n){},96:function(e,n,t){const o=t(97),r=t(119);var i=prompt("Enter a Nickname","Jack"),c={},a=document.getElementById("players"),s=!0,u=function(e){for(var n=e+"=",t=decodeURIComponent(document.cookie).split(";"),o=0;o<t.length;o++){for(var r=t[o];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(n))return r.substring(n.length,r.length)}return""}("unique_id");if(""==u){h("First Launch - Generating ID");var l=r.generate(10);u=l,function(e,n,t){var o=new Date;o.setTime(o.getTime()+24*t*60*60*1e3);var r="expires="+o.toUTCString();document.cookie=e+"="+n+";"+r+";path=/"}("unique_id",l,7),h("Unique ID = "+l)}else alert("Welcome Back "+u),h("Unique ID already Exists : "+u);var p=document.getElementById("logo"),d={};function f(e,n){for(var t in e)v(e[t],n)}function v(e,n){console.log(n),p2pt.send(e,JSON.stringify(n))}function h(e){console.log(e)}p.addEventListener("click",(function(){var e=i;if(""==="homeroom".trim()||""===e.trim())return void alert("enter Nickname");(function(){p.classList.add("w3-orange"),p2pt=new o(["wss://tracker.sloppyta.co:443/announce","wss://tracker.novage.com.ua:443/announce","wss://tracker.btorrent.xyz:443/announce"],"boardio"+this.room)})(),h(e+" joined the chat"),p2pt.on("peerconnect",e=>{s=!1,c[e.id]=e,console.log(e),v(e,{type:"msg",name:i})}),p2pt.on("peerclose",e=>{console.log(e.id+" disconnected"),delete c[e.id],delete d[e.id]}),p2pt.on("msg",(e,n)=>{var t,o;n=JSON.parse(n),console.log(n),"msg"==n.type?(d[e.id]||(d[e.id]=n.name,t=e.id,o=t,peerCTXs[o]=canvas.getContext("2d"),peerBrushProps[o]={color:"orange",thick:2},a.innerHTML+="<span> &#9679; "+d[t]+"</span>"),console.log(n)):"brushset"==n.type?function(e,n){y[e]=n.now}(e.id,n):"stroke"==n.type?function(e,n){var t,o,r,i,c,a;y[e]&&(t=peerBrushProps[e].thick,o="round",r=peerBrushProps[e].color,i=y[e],c=n,(a=peerCTXs[e]).beginPath(),a.lineWidth=t,a.lineCap=o,a.strokeStyle=r,a.moveTo(i.x,i.y),a.lineTo(c.x,c.y),a.stroke()),y[e]={x:n.x,y:n.y}}(e.id,n):"brushchange"==n.type?function(e,n){peerBrushProps[e].color=n.color,peerBrushProps[e].thick=n.thick}(e.id,n):console.log(n)}),p2pt.start()}));canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),peerCTXs={},peerBrushProps={};let g={x:0,y:0};var y={},m=!1;function x(){ctx.canvas.width=window.innerWidth}function b(e){var n=ctx.canvas.getBoundingClientRect();g.x=e.clientX-n.left,g.y=e.clientY-n.top}function w(e){b(e),e.preventDefault(),e.stopPropagation(),m=!0,s||O(m)}function k(e){b(e),m=!1,s||O(m)}function P(e){s||O(m)}function E(e){e.preventDefault(),e.stopPropagation(),m&&(!function(e,n,t,o){ctx.beginPath(),ctx.lineWidth=e,ctx.lineCap=n,ctx.strokeStyle=t,ctx.moveTo(g.x,g.y),b(o),ctx.lineTo(g.x,g.y),ctx.stroke()}(2,"round","blue",e),s||m&&f(c,{type:"stroke",x:g.x,y:g.y}))}function O(e){f(c,{type:"brushset",brush:e})}window.addEventListener("load",()=>{x(),canvas.addEventListener("mousedown",w),canvas.addEventListener("mouseup",k),canvas.addEventListener("touchstart",w),canvas.addEventListener("touchend",P),canvas.addEventListener("mousemove",E),canvas.addEventListener("touchmove",(function(e){var n=e.touches[0];m=!0;var t=new MouseEvent("mousemove",{clientX:n.clientX,clientY:n.clientY});canvas.dispatchEvent(t)}),!1),window.addEventListener("resize",x)})}});